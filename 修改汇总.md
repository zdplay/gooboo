# æ¸¸æˆé€Ÿåº¦è¡¥å¿åŠ¨æ€å€ç‡ç³»ç»Ÿ - ä¿®æ”¹æ±‡æ€»

## ğŸ“‹ éœ€æ±‚æ¦‚è¿°
å°†å›ºå®šçš„1.5å€æ¸¸æˆé€Ÿåº¦è¡¥å¿æ”¹ä¸ºåŸºäºå…¨å±€ç­‰çº§çš„åŠ¨æ€å€ç‡ç³»ç»Ÿï¼š
- 0-199çº§ï¼š1.0å€ï¼ˆåŸºç¡€å€ç‡ï¼‰
- 200-399çº§ï¼š1.1å€
- 400-599çº§ï¼š1.2å€
- 600-799çº§ï¼š1.3å€
- 800-999çº§ï¼š1.4å€
- 1000çº§+ï¼š1.5å€ï¼ˆæœ€é«˜å€ç‡ï¼‰

## ğŸ”§ ä¿®æ”¹çš„æ–‡ä»¶

### 1. `src/js/savefile.js`
**ä¿®æ”¹ä½ç½®**ï¼šç¬¬641-646è¡Œ
**ä¿®æ”¹å†…å®¹**ï¼šè¯»æ¡£æ—¶åŠ¨æ€è®¡ç®—timeMult
```javascript
// ä¿®æ”¹å‰
const dynamicTimeMult = Math.min(1.5, 1 + Math.max(0, globalLevel - 200) * 0.1 / 200);

// ä¿®æ”¹å  
const dynamicTimeMult = Math.min(1.5, 1.1 + Math.floor(Math.max(0, globalLevel - 200) / 200) * 0.1);
```

### 2. `src/store/system.js`
**ä¿®æ”¹ä½ç½®**ï¼šç¬¬1056-1072è¡Œ
**ä¿®æ”¹å†…å®¹**ï¼š
1. ä¿®æ”¹`useCompensationCode`å‡½æ•°æ”¯æŒä¼ å…¥rootStateè·å–globalLevel
2. åŠ¨æ€è®¡ç®—æ¸¸æˆé€Ÿåº¦å€ç‡
```javascript
// ä¿®æ”¹å‰
Vue.set(state, 'timeMult', 1.5);

// ä¿®æ”¹å
const globalLevel = rootState ? (rootState.meta.globalLevel || 0) : 0;
const dynamicTimeMult = Math.min(1.5, 1.1 + Math.floor(Math.max(0, globalLevel - 200) / 200) * 0.1);
Vue.set(state, 'timeMult', dynamicTimeMult);
```

### 3. `src/components/view/StatOverview.vue`
**ä¿®æ”¹ä½ç½®**ï¼šå¤šå¤„ä¿®æ”¹
**ä¿®æ”¹å†…å®¹**ï¼š

#### A. æ˜¾ç¤ºéƒ¨åˆ†ï¼ˆç¬¬137-176è¡Œï¼‰
- å°†å›ºå®šçš„"x1.5"æ”¹ä¸ºåŠ¨æ€æ˜¾ç¤º"x{{ currentTimeMult.toFixed(1) }}"
- æ·»åŠ è¡¨æ ¼æ ¼å¼çš„tooltipæ˜¾ç¤ºç­‰çº§å¯¹åº”å€ç‡

#### B. è®¡ç®—å±æ€§ï¼ˆç¬¬527-537è¡Œï¼‰
- æ·»åŠ `currentTimeMult`è®¡ç®—å±æ€§
```javascript
currentTimeMult() {
  if (!this.compensationCodeUsed) {
    return 1;
  }
  const globalLevel = this.globalLevel || 0;
  return Math.min(1.5, 1.1 + Math.floor(Math.max(0, globalLevel - 200) / 200) * 0.1);
}
```

#### C. å…‘æ¢ç å¤„ç†ï¼ˆç¬¬595-610è¡Œï¼‰
- ä¿®æ”¹å…‘æ¢ç ä½¿ç”¨æ—¶ä¼ å…¥rootState
- åŠ¨æ€è®¡ç®—å¹¶æ˜¾ç¤ºå½“å‰å€ç‡
```javascript
const success = this.$store.commit('system/useCompensationCode', {
  code: this.redeemCode.trim().toUpperCase(),
  rootState: this.$store.state
});
const currentMult = Math.min(1.5, 1.1 + Math.floor(Math.max(0, globalLevel - 200) / 200) * 0.1);
this.redeemMessage = `è¡¥å¿æ¿€æ´»æˆåŠŸï¼å½“å‰æ¸¸æˆé€Ÿåº¦ï¼š${currentMult.toFixed(1)}å€`;
```

## ğŸ“Š æœ€ç»ˆæ•ˆæœ

### åŠ¨æ€å€ç‡è¡¨
| ç­‰çº§èŒƒå›´ | å€ç‡ | è¯´æ˜ |
|----------|------|------|
| 0-199çº§ | 1.0å€ | åŸºç¡€å€ç‡ |
| 200-399çº§ | 1.1å€ | ç¬¬ä¸€æ¬¡æå‡ |
| 400-599çº§ | 1.2å€ | |
| 600-799çº§ | 1.3å€ | |
| 800-999çº§ | 1.4å€ | |
| 1000çº§+ | 1.5å€ | æœ€é«˜å€ç‡ |

### å…¬å¼
```javascript
Math.min(1.5, 1 + Math.floor(globalLevel / 200) * 0.1)
```

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

1. **åŠ¨æ€æ˜¾ç¤º**ï¼šUIæ˜¾ç¤ºå½“å‰å®é™…å€ç‡ï¼Œä¸å†æ˜¯å›ºå®šçš„"x1.5"
2. **è¡¨æ ¼tooltip**ï¼šé¼ æ ‡æ‚¬åœæ˜¾ç¤ºæ•´é½çš„ç­‰çº§å€ç‡å¯¹ç…§è¡¨
3. **å­˜æ¡£å…¼å®¹**ï¼šä¿æŒåŸæœ‰çš„å­˜æ¡£ä¿æŠ¤æœºåˆ¶
4. **å®æ—¶è®¡ç®—**ï¼šå…‘æ¢ç ä½¿ç”¨ã€è¯»æ¡£æ—¶éƒ½ä¼šåŠ¨æ€è®¡ç®—æ­£ç¡®å€ç‡
5. **ç”¨æˆ·å‹å¥½**ï¼šä»0çº§å°±æœ‰1.1å€åŸºç¡€åŠ æˆ

## ğŸ”„ å·¥ä½œæµç¨‹

1. **å…‘æ¢ç ä½¿ç”¨æ—¶**ï¼šç«‹å³è®¡ç®—å½“å‰ç­‰çº§å¯¹åº”çš„å€ç‡
2. **è¯»æ¡£æ—¶**ï¼šæ£€æµ‹åˆ°ä½¿ç”¨è¿‡å…‘æ¢ç ï¼Œæ ¹æ®å½“å‰å…¨å±€ç­‰çº§é‡æ–°è®¡ç®—å€ç‡
3. **æ˜¾ç¤ºæ—¶**ï¼šUIåŠ¨æ€æ˜¾ç¤ºå½“å‰å®é™…å€ç‡
4. **å­˜æ¡£æ—¶**ï¼šä¿æŒåŸæœ‰é€»è¾‘ï¼ŒtimeMultä¿å­˜ä¸º1é˜²æ­¢æ—§ç‰ˆæœ¬åˆ©ç”¨

## ğŸ¯ è¾¾æˆç›®æ ‡

âœ… 1000çº§è¾¾åˆ°1.5å€æœ€é«˜å€ç‡
âœ… æ•´æ•°é€’å¢ï¼š1.1 â†’ 1.2 â†’ 1.3 â†’ 1.4 â†’ 1.5  
âœ… è¡¨æ ¼æ ¼å¼tooltipï¼Œæ˜¾ç¤ºæ•´é½
âœ… ä¿æŒå­˜æ¡£å…¼å®¹æ€§
âœ… åŠ¨æ€æ˜¾ç¤ºå½“å‰å€ç‡
